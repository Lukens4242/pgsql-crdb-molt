start a secure single node cluster

% podman run -d -v "./certs:/cockroach/certs" --env COCKROACH_DATABASE=defaultdb --env COCKROACH_USER=root --env COCKROACH_PASSWORD=password --name=crdb -p 26257:26257 -p 8080:8080 cockroachdb/cockroach start-single-node --http-addr=crdb:8080

connect to a secure single node cluster

% podman exec -it crdb cockroach sql --url "postgresql://root@host.docker.internal:26257/defaultdb?sslcert=certs%2Fclient.root.crt&sslkey=certs%2Fclient.root.key&sslmode=verify-full&sslrootcert=certs%2Fca.crt" -e "SHOW CREATE ALL TABLES;"

 podman run --rm -v "./molt-data:/molt-data" -v "./certs:/certs" cockroachdb/molt convert postgres --schema /molt-data/postgres_schema.sql --url "postgresql://root@host.docker.internal:26257/defaultdb?sslcert=%2Fcerts%2Fclient.root.crt&sslkey=%2Fcerts%2Fclient.root.key&sslmode=verify-full&sslrootcert=%2Fcerts%2Fca.crt"
 